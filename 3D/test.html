
<!DOCTYPE html>
<html style='width:100%; height:100%; border:0; margin:0; padding:0;'>
  
    <head>
        <title>three.js webgl - interactive - voxel painter</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
        <style type="text/css">
            #canvas{
                display: block;
                margin: 0 auto;
            }
            .list { color: ffff; font-weight: bold; font-size: 12px; z-index: 100; width: 75px; position: absolute; top: 0px; padding: 16px; }
        </style>
    </head>        

    <body>
        <div id="3d">
            <!--<div class="row">
                <div class="col-md-2 list">
                    <p>
                        List of changes
                    </p>
                    <ul style="list-style-type:circle">
                        <li>Change1</li>
                        <li>Change2</li>
                        <li>Change3</li>
                    </ul>
                </div>

                <div  class="col-md-8 list">
                </div>
        
               <div class="col-md-2 list">
                    <p>
                        List of docs
                    </p>
                    <ul style="list-style-type:circle">
                        <li>Doc1</li>
                        <li>Doc2</li>
                        <li>Doc3</li>
                    </ul>
                </div>
            </div>-->
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

        <script src="js/three/build/three.js"></script>
        <script src="js/three/build/js/controls/OrbitControls.js"></script>
        <script src="js/three/build/js/libs/stats.min.js"></script>
        <script src="js/three/build/js/geometries/TextGeometry.js"></script>
        <script src="js/three/build/js/utils/FontUtils.js"></script>

        <script src="js/three/build/js/fonts/gentilis_bold.typeface.js"></script>
        <script src="js/three/build/js/fonts/gentilis_regular.typeface.js"></script>
        <script src="js/three/build/js/fonts/optimer_bold.typeface.js"></script>
        <script src="js/three/build/js/fonts/optimer_regular.typeface.js"></script>
        <script src="js/three/build/js/fonts/helvetiker_bold.typeface.js"></script>
        <script src="js/three/build/js/fonts/helvetiker_regular.typeface.js"></script>
        <script src="js/three/build/js/fonts/droid/droid_sans_regular.typeface.js"></script>
        <script src="js/three/build/js/fonts/droid/droid_sans_bold.typeface.js"></script>
        <script src="js/three/build/js/fonts/droid/droid_serif_regular.typeface.js"></script>
        <script src="js/three/build/js/fonts/droid/droid_serif_bold.typeface.js"></script>

        <script type="text/javascript" src="js/three/build/draw.js"></script>
        <script type="text/javascript" src="js/three/build/listener.js"></script>
        <script type="text/javascript" src="js/three/build/loader.js"></script>


        <script>
            // main()
            var container, stats;
            var camera, controls, scene, renderer;
            var objects = [], plane, group;

            var raycaster = new THREE.Raycaster();
            var mouse = new THREE.Vector2(),
            offset = new THREE.Vector3(),
            INTERSECTED, SELECTED;

            //pointer line
            var rightline;
            var leftline;
            var direct_line_material = new THREE.LineBasicMaterial({
                color: 0x000000
            });

            //text
            var text = "C",
                font_height = 2,
                font_size = 15,
                curveSegments = 4,
                bevelThickness = 2,
                bevelSize = 1.5,
                bevelSegments = 3,
                bevelEnabled = true,
                font = "helvetiker", // helvetiker, optimer, gentilis, droid sans, droid serif
                weight = "bold", // normal bold
                style = "normal"; // normal italic

            loadFiles();
            init();
            animate();

            //start()
            function init() {

                // HTML DOC
                container = document.getElementById("3d");
                
                //document.body.appendChild( container );

                // create camera
                camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 10000 );
                camera.position.y = 1000;
                //camera.lookAt( new THREE.Vector3() );

                // create scene and add globle light
                scene = new THREE.Scene();
                scene.add( new THREE.AmbientLight( 0x505050 ) );

                // create specific light
                var light = new THREE.SpotLight( 0xffffff, 1.5 );
                light.position.set( 0, 500, 2000 );
                light.castShadow = true;
                light.shadowCameraNear = 200;
                light.shadowCameraFar = camera.far;
                light.shadowCameraFov = 50;
                light.shadowBias = -0.00022;
                light.shadowMapWidth = 2048;
                light.shadowMapHeight = 2048;
                scene.add( light );

                var size = 500, step = 50; //calculated based on size of dataset
                // create a base
                createBase(size, step);

                createCity(size);

               
                // plane = new THREE.Mesh(
                //     new THREE.PlaneBufferGeometry( 2000, 2000, 8, 8 ),
                //     new THREE.MeshBasicMaterial( { visible: false } )
                // );
                // scene.add( plane );

                //var CONTAINER_STYLE = getComputedStyle(container,null);
                //var CONTAINER_WIDTH = parseInt(CONTAINER_STYLE.getPropertyValue('width'));
                // create renderer
                renderer = new THREE.WebGLRenderer( { antialias: true } );
                renderer.setClearColor( 0xf0f0f0 );
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( window.innerWidth, window.innerHeight );
                //renderer.setSize( CONTAINER_WIDTH, window.innerHeight );
                renderer.sortObjects = false;
                renderer.shadowMap.enabled = true;
                renderer.shadowMap.type = THREE.PCFShadowMap;
                renderer.domElement.style.position = "absolute";
                container.appendChild( renderer.domElement );
                //container.insertBefore(renderer.domElement, container.firstChild);

                // create view control
                controls = new THREE.OrbitControls(this.camera, this.renderer.domElement);
                controls.target.set (0,10,0);


                document.addEventListener( 'mousemove', onDocumentMouseMove, false );

                // add listener
                window.addEventListener( 'resize', onWindowResize, false );

            }

                    //

            function animate() {

                requestAnimationFrame( animate );

                render();


            }

            function render() {

                controls.update();

                renderer.render( scene, camera );

            }
            
        </script>

    </body>
 
</html>